# 2.7 Lab 2
#### Welcome to my second lab! For this lab, I worked with information from animal crossing on different colored socks.The purpose of this lab was to access data using a web API and contemplate how using classes can help us analyze datasets. This lab was also a review of using python methods to analyze data. I hope that you enjoy!

![Animal Crossing Photo](https://media.wired.com/photos/5e8cebbda231050008136013/125:94/w_1750,h_1316,c_limit/animal-crossing-history-wired.jpg)
[Image source](https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.wired.com%2Fstory%2Funbearable-lightness-animal-crossing%2F&psig=AOvVaw2e94aUBxpMxf68bW7hTnK4&ust=1638472215218000&source=images&cd=vfe&ved=0CAsQjRxqFwoTCMDR9-Smw_QCFQAAAAAdAAAAABAe)


## Task 1 - Discuss how you used the API to obtain the dataset.

In order to analyze the socks, we first had to create the dataset, or csv. In order to do so, I used an API to access this data online. I think that there was one main difficult component of accessing the data online. In order to determine  how to loop through my data, because I needed to figure out how to determine when we had cycled through every single sock. Initially, I thought about hardcoding it. This would have entailed counting up the number of socks in the dataset and looping through the dataset this number of times. The pseudocode I wrote for that is the following:

```python:
#for i in range 0, number of socks:
    #BASE_URL = "https://hm-cs.herokuapp.com"
    #ENDPOINT = "/socks"
    #API_key= "ArtOfDataKEY123"
    #payload = {"key": API_key, "idx": str(i) }
    #response = requests.get(BASE_URL+ENDPOINT,params=payload)
    #print response 
    #add one to i
```
The key line here was payload = {"key": API_key, "idx": str(i) } , because I had to figure out that the index was the value i. 

However, while this would work for this dataset, I wanted to generalize this code so that it could work for any dataset. To do so, Tuhin and I thought about alternative methods we could use to determine when we had finished looping through all of the different socks. Ultimately, we realized that if we tried to index to a sock that didn't exist, the response would be invalid. So, instead of thinking about viable indicies, we looked at viable responses. That was when we realized we could use the line

```python:
while response.ok:
```
instead of the for loop. With the while loop, we still used a counter i to loop through all the indicies, but we no longer needed to hardcode the explicit number of indicies into the code. 

After figuring out how to access the dataset with APIs, I then decided to print the response using this line:

```python
  print(response.text)
```
This way, I could use redirection in my terminal to print each of the sock variations directly into a new csv, which I could then analyze for the next questions. 


## Task 2 - Which sock has the most variations? If there is more than one answer, then list all of them.

For me, this task felt like a nice review of dictionaries. In particular, this task reminded me a lot of the penguins lab where we wanted to tally the number of penguins that belonged to each island. To start, I created a method that would intake the data from the csv that I had just created. Then, I created a table that would be an empty dictionary, where each key  was a sock's name and the value was the number of socks that had the same name. This value is equivalent to the number of variations of each sock, because all of the socks with the same name are the different variations of that type of sock. In order to create this table, I iteratedc through each sock in the datset. Then, I iterated through this table tofind the sock types with the most variations. I think that this was definitely the trickiest part of the task for me. 




def variations(data): #intake data
    table = {} #create empty dictionary
    for sock in data: #iterate through each row, where each row represents a penguin
        name = sock["Name"] #take the penguin's species and set it equal to the species variable  #set penguin's island equal to disland variable
        if name not in table: #add each species to table as a key, with the value of an empty dictionary
            table[name] = 0 
        table[name]+=1 #count the number of penguins with the same species and island
    most_frequent_type = []
    largest_number_times_appeared = 1 #define outside of the loop so that it doesn't reset with each iteration
    for name in table: 
        if table[name] > largest_number_times_appeared: 
            largest_number_times_appeared = table[name] 
            most_frequent_type = []
            most_frequent_type.append(name)
        elif table[name] >= largest_number_times_appeared:
            most_frequent_type.append(name)
    #return ("Most frequent types are", most_frequent_type)
    return  "Most frequent types are {}".format(most_frequent_type)
    